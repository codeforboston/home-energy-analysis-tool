{
  "version": 3,
  "sources": ["../../../../app/routes/users+/$username.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/users+/$username.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/users+/$username.tsx\");\n  import.meta.hot.lastModified = \"1706218436656.8838\";\n}\n// REMIX HMR END\n\nimport { json } from '@remix-run/node';\nimport { Form, Link, useLoaderData } from '@remix-run/react';\nimport { GeneralErrorBoundary } from '#app/components/error-boundary.tsx';\nimport { Spacer } from '#app/components/spacer.tsx';\nimport { Button } from '#app/components/ui/button.tsx';\nimport { Icon } from '#app/components/ui/icon.tsx';\nimport { prisma } from '#app/utils/db.server.ts';\nimport { getUserImgSrc, invariantResponse } from '#app/utils/misc.tsx';\nimport { useOptionalUser } from '#app/utils/user.ts';\nexport async function loader({\n  params\n}) {\n  const user = await prisma.user.findFirst({\n    select: {\n      id: true,\n      name: true,\n      username: true,\n      createdAt: true,\n      image: {\n        select: {\n          id: true\n        }\n      }\n    },\n    where: {\n      username: params.username\n    }\n  });\n  invariantResponse(user, 'User not found', {\n    status: 404\n  });\n  return json({\n    user,\n    userJoinedDisplay: user.createdAt.toLocaleDateString()\n  });\n}\nexport default function ProfileRoute() {\n  _s();\n  const data = useLoaderData();\n  const user = data.user;\n  const userDisplayName = user.name ?? user.username;\n  const loggedInUser = useOptionalUser();\n  const isLoggedInUser = data.user.id === loggedInUser?.id;\n  return <div className=\"container mb-48 mt-36 flex flex-col items-center justify-center\">\n\t\t\t<Spacer size=\"4xs\" />\n\n\t\t\t<div className=\"container flex flex-col items-center rounded-3xl bg-muted p-12\">\n\t\t\t\t<div className=\"relative w-52\">\n\t\t\t\t\t<div className=\"absolute -top-40\">\n\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t<img src={getUserImgSrc(data.user.image?.id)} alt={userDisplayName} className=\"h-52 w-52 rounded-full object-cover\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<Spacer size=\"sm\" />\n\n\t\t\t\t<div className=\"flex flex-col items-center\">\n\t\t\t\t\t<div className=\"flex flex-wrap items-center justify-center gap-4\">\n\t\t\t\t\t\t<h1 className=\"text-center text-h2\">{userDisplayName}</h1>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p className=\"mt-2 text-center text-muted-foreground\">\n\t\t\t\t\t\tJoined {data.userJoinedDisplay}\n\t\t\t\t\t</p>\n\t\t\t\t\t{isLoggedInUser ? <Form action=\"/logout\" method=\"POST\" className=\"mt-3\">\n\t\t\t\t\t\t\t<Button type=\"submit\" variant=\"link\" size=\"pill\">\n\t\t\t\t\t\t\t\t<Icon name=\"exit\" className=\"scale-125 max-md:scale-150\">\n\t\t\t\t\t\t\t\t\tLogout\n\t\t\t\t\t\t\t\t</Icon>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Form> : null}\n\t\t\t\t\t<div className=\"mt-10 flex gap-4\">\n\t\t\t\t\t\t{isLoggedInUser ? <>\n\t\t\t\t\t\t\t\t<Button asChild>\n\t\t\t\t\t\t\t\t\t<Link to=\"notes\" prefetch=\"intent\">\n\t\t\t\t\t\t\t\t\t\tMy notes\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button asChild>\n\t\t\t\t\t\t\t\t\t<Link to=\"/settings/profile\" prefetch=\"intent\">\n\t\t\t\t\t\t\t\t\t\tEdit profile\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</> : <Button asChild>\n\t\t\t\t\t\t\t\t<Link to=\"notes\" prefetch=\"intent\">\n\t\t\t\t\t\t\t\t\t{userDisplayName}'s notes\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Button>}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>;\n}\n_s(ProfileRoute, \"WemrhwYXdIHkPFxNeqgcvBbQjZE=\", false, function () {\n  return [useLoaderData, useOptionalUser];\n});\n_c = ProfileRoute;\nexport const meta = ({\n  data,\n  params\n}) => {\n  const displayName = data?.user.name ?? params.username;\n  return [{\n    title: `${displayName} | Epic Notes`\n  }, {\n    name: 'description',\n    content: `Profile of ${displayName} on Epic Notes`\n  }];\n};\nexport function ErrorBoundary() {\n  return <GeneralErrorBoundary statusHandlers={{\n    404: ({\n      params\n    }) => <p>No user with the username \"{params.username}\" exists</p>\n  }} />;\n}\n_c2 = ErrorBoundary;\nvar _c, _c2;\n$RefreshReg$(_c, \"ProfileRoute\");\n$RefreshReg$(_c2, \"ErrorBoundary\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqBA,kBAAqB;AAMrB,uBAAuB;AAsCpB;AAhEH,IAAI,CAAC,OAAO,gBAAgB,CAAC,OAAO,gBAAgB,CAAC,OAAO,kBAAkB;AAC5E,UAAQ,KAAK,kGAAkG;AACjH,OAAO;AACD,mBAAiB,OAAO;AACxB,mBAAiB,OAAO;AAC5B,SAAO,eAAe,CAAC,MAAM,OAAO;AAClC,WAAO,iBAAiB,SAAS,MAAM,sCAAwC,EAAE;AAAA,EACnF;AACA,SAAO,eAAe,OAAO,iBAAiB;AAChD;AANM;AACA;AAMN,IAAI,KAAK,aAAa;AAEtB,IAAI,aAAa;AACf,cAAY,MAAc;AAAA;AAAA,IAE1B;AAAA,EAAiC;AACjC,cAAY,IAAI,eAAe;AACjC;AAuCe,SAAR,eAAgC;AACrC,KAAG;AACH,QAAM,OAAO,cAAc;AAC3B,QAAM,OAAO,KAAK;AAClB,QAAM,kBAAkB,KAAK,QAAQ,KAAK;AAC1C,QAAM,eAAe,gBAAgB;AACrC,QAAM,iBAAiB,KAAK,KAAK,OAAO,cAAc;AACtD,SAAO,mDAAC,SAAI,WAAU,mEACrB;AAAA,uDAAC,UAAO,MAAK,SAAb;AAAA;AAAA;AAAA;AAAA,WAAmB;AAAA,IAEnB,mDAAC,SAAI,WAAU,kEACd;AAAA,yDAAC,SAAI,WAAU,iBACd,6DAAC,SAAI,WAAU,oBACd,6DAAC,SAAI,WAAU,YACd,6DAAC,SAAI,KAAK,cAAc,KAAK,KAAK,OAAO,EAAE,GAAG,KAAK,iBAAiB,WAAU,yCAA9E;AAAA;AAAA;AAAA;AAAA,aAAoH,KADrH;AAAA;AAAA;AAAA;AAAA,aAEA,KAHD;AAAA;AAAA;AAAA;AAAA,aAIA,KALD;AAAA;AAAA;AAAA;AAAA,aAMA;AAAA,MAEA,mDAAC,UAAO,MAAK,QAAb;AAAA;AAAA;AAAA;AAAA,aAAkB;AAAA,MAElB,mDAAC,SAAI,WAAU,8BACd;AAAA,2DAAC,SAAI,WAAU,oDACd,6DAAC,QAAG,WAAU,uBAAuB,6BAArC;AAAA;AAAA;AAAA;AAAA,eAAqD,KADtD;AAAA;AAAA;AAAA;AAAA,eAEA;AAAA,QACA,mDAAC,OAAE,WAAU,0CAAyC;AAAA;AAAA,UAC7C,KAAK;AAAA,aADd;AAAA;AAAA;AAAA;AAAA,eAEA;AAAA,QACC,iBAAiB,mDAAC,QAAK,QAAO,WAAU,QAAO,QAAO,WAAU,QAC/D,6DAAC,UAAO,MAAK,UAAS,SAAQ,QAAO,MAAK,QACzC,6DAAC,QAAK,MAAK,QAAO,WAAU,8BAA6B,sBAAzD;AAAA;AAAA;AAAA;AAAA,eAEA,KAHD;AAAA;AAAA;AAAA;AAAA,eAIA,KALgB;AAAA;AAAA;AAAA;AAAA,eAMjB,IAAU;AAAA,QACX,mDAAC,SAAI,WAAU,oBACb,2BAAiB,sFAChB;AAAA,6DAAC,UAAO,SAAO,MACd,6DAAC,QAAK,IAAG,SAAQ,UAAS,UAAS,wBAAnC;AAAA;AAAA;AAAA;AAAA,iBAEA,KAHD;AAAA;AAAA;AAAA;AAAA,iBAIA;AAAA,UACA,mDAAC,UAAO,SAAO,MACd,6DAAC,QAAK,IAAG,qBAAoB,UAAS,UAAS,4BAA/C;AAAA;AAAA;AAAA;AAAA,iBAEA,KAHD;AAAA;AAAA;AAAA;AAAA,iBAIA;AAAA,aAVgB;AAAA;AAAA;AAAA;AAAA,eAWjB,IAAM,mDAAC,UAAO,SAAO,MACpB,6DAAC,QAAK,IAAG,SAAQ,UAAS,UACxB;AAAA;AAAA,UAAgB;AAAA,aADlB;AAAA;AAAA;AAAA;AAAA,eAEA,KAHK;AAAA;AAAA;AAAA;AAAA,eAIN,KAhBF;AAAA;AAAA;AAAA;AAAA,eAiBA;AAAA,WA/BD;AAAA;AAAA;AAAA;AAAA,aAgCA;AAAA,SA3CD;AAAA;AAAA;AAAA;AAAA,WA4CA;AAAA,OA/CM;AAAA;AAAA;AAAA;AAAA,SAgDP;AACF;AACA,GAAG,cAAc,gCAAgC,OAAO,WAAY;AAClE,SAAO,CAAC,eAAe,eAAe;AACxC,CAAC;AACD,KAAK;AACE,IAAM,OAAO,CAAC;AAAA,EACnB;AAAA,EACA;AACF,MAAM;AACJ,QAAM,cAAc,MAAM,KAAK,QAAQ,OAAO;AAC9C,SAAO,CAAC;AAAA,IACN,OAAO,GAAG;AAAA,EACZ,GAAG;AAAA,IACD,MAAM;AAAA,IACN,SAAS,cAAc;AAAA,EACzB,CAAC;AACH;AACO,SAAS,gBAAgB;AAC9B,SAAO,mDAAC,wBAAqB,gBAAgB;AAAA,IAC3C,KAAK,CAAC;AAAA,MACJ;AAAA,IACF,MAAM,mDAAC,OAAE;AAAA;AAAA,MAA4B,OAAO;AAAA,MAAS;AAAA,SAA/C;AAAA;AAAA;AAAA;AAAA,WAAuD;AAAA,EAC/D,KAJO;AAAA;AAAA;AAAA;AAAA,SAIJ;AACL;AACA,MAAM;AACN,IAAI;AAAJ,IAAQ;AACR,aAAa,IAAI,cAAc;AAC/B,aAAa,KAAK,eAAe;AAEjC,OAAO,eAAe;AACtB,OAAO,eAAe;",
  "names": []
}
